import{b as M}from"./chunk-42IGJLG2.js";import{b as A}from"./chunk-6OAFLMEG.js";import{a as T}from"./chunk-ZAOG6SVK.js";import{a as P,b as j}from"./chunk-3TMRKM3A.js";import{f as B,g as F}from"./chunk-LH73PZKM.js";import{Da as _,Kb as I,Lb as w,N as n,Na as S,Oa as k,U as d,X as f,Z as s,Za as g,bb as y,cb as C,da as o,ea as l,eb as b,fa as h,ka as x,la as c,mc as E,o as v,s as a,t as V,va as r,xa as m}from"./chunk-4RWQR7BF.js";var D=(()=>{class e{constructor(){this.http=a(b),this.notificationService=a(I),this.api=a(w),this.loadingStockValue=d(!1),this.stockValue=d(null)}getStockValue(){this.loadingStockValue.set(!0),this.http.get(`${this.api.host()}/report/stock-value`).subscribe({next:t=>{this.stockValue.set(t),this.loadingStockValue.set(!1)},error:t=>{this.loadingStockValue.set(!1),this.notificationService.handleError(t.error,"home")}})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function q(e,u){e&1&&(o(0,"div"),h(1,"p-skeleton",6)(2,"p-skeleton",7)(3,"p-skeleton",8),l())}function H(e,u){if(e&1&&(o(0,"h3",10),r(1," Cost Value: "),o(2,"span",12),r(3),S(4,"currency"),l()()),e&2){let t,i=c(2);n(3),m(" ",k(4,1,(t=i.stockValue())==null?null:t.cost_value)," ")}}function R(e,u){if(e&1&&(o(0,"h3",10),r(1," Selling Value: "),o(2,"span",13),r(3),S(4,"currency"),l()()),e&2){let t,i=c(2);n(3),m(" ",k(4,1,(t=i.stockValue())==null?null:t.selling_value)," ")}}function $(e,u){if(e&1&&(o(0,"div"),f(1,H,5,3,"h3",9)(2,R,5,3,"h3",9),o(3,"h3",10),r(4," Total Items: "),o(5,"span",11),r(6),l()()()),e&2){let t,i=c();n(),s("ngIf",i.userPermissions().show_cost),n(),s("ngIf",i.userPermissions().show_stock),n(4),m(" ",(t=i.stockValue())==null?null:t.total_quantity," ")}}var se=(()=>{class e{constructor(){this.stockValueService=a(D),this.authService=a(T),this.userPermissions=this.authService.userPermissions,this.stockValue=this.stockValueService.stockValue,this.loadingStockValue=this.stockValueService.loadingStockValue,this.stockValueService.getStockValue()}getStockValue(){this.stockValueService.getStockValue()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=V({type:e,selectors:[["stock-value"]],standalone:!0,features:[_],decls:9,vars:2,consts:[[1,"surface-card","shadow-2","p-3","border-round"],[1,"flex","justify-content-between","mb-0"],[1,"block","text-500","font-medium","mb-2"],["pTooltip","Refresh","tooltipPosition","top",1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",2,"width","2.5rem","height","2.5rem","cursor","pointer",3,"click"],[1,"pi","pi-refresh","text-blue-600","text-xl"],[4,"ngIf"],["width","20rem","styleClass","mb-2 mt-2"],["width","10rem","styleClass","mb-2"],["width","5rem","styleClass","mb-2"],["class","m-1",4,"ngIf"],[1,"m-1"],[1,"text-gray-900"],[1,"text-yellow-500"],[1,"text-primary"]],template:function(i,p){i&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"span",2),r(4,"Stock Value"),l()(),o(5,"div",3),x("click",function(){return p.getStockValue()}),h(6,"i",4),l()(),f(7,q,4,0,"div",5)(8,$,7,3,"div",5),l()),i&2&&(n(7),s("ngIf",p.loadingStockValue()),n(),s("ngIf",!p.loadingStockValue()))},dependencies:[M,E,j,P,A,y,C,g,F,B]})}}return e})();export{se as a};
