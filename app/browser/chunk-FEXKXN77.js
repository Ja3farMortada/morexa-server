import{a as w}from"./chunk-HY5F37U4.js";import{a as s}from"./chunk-ZAOG6SVK.js";import{Kb as m,d as u,nb as n,o as d,s as o}from"./chunk-4RWQR7BF.js";import{h as r}from"./chunk-WWX6BADO.js";var p=(i,c)=>{let e=o(s),t=o(n);return e.isLoggedIn()||t.navigate(["/login"]),e.isLoggedIn()},v=(i,c)=>{let e=o(s),t=o(n);return e.isLoggedIn()||t.navigate(["/login"]),e.isAdmin()};var S=(i,c)=>{let e=o(s),t=o(n);return e.userPermissions().show_stock||t.navigate(["/home"]),e.userPermissions().show_stock},g=(i,c)=>{let e=o(s),t=o(n);return e.userPermissions().show_cost||t.navigate(["/home"]),e.userPermissions().show_cost};var b=(()=>{class i{constructor(){this.dateService=o(w),this.notificationService=o(m),this.invoice=new u({})}print(e,t){return r(this,null,function*(){let a=structuredClone(e);a.order_datetime=this.dateService.formatDate(e.order_datetime,"DD-MM-YYYY"),a.type=t,window.electron&&(yield window.electron.send("print-invoice",a))})}printStatement(e){return r(this,null,function*(){window.electron&&(yield window.electron.send("print-statement",e))})}printDelivery(e){return r(this,null,function*(){let t=structuredClone(e);t.order_datetime=this.dateService.formatDate(e.order_datetime,"DD-MM-YYYY"),window.electron&&(yield window.electron.send("print-delivery",t))})}printStock(e){return r(this,null,function*(){window.electron&&(yield window.electron.send("print-stock",e))})}backup(){return r(this,null,function*(){if(window.electron){let e=yield window.electron.send("backup");e=="success"?this.notificationService.showSuccess("Backup completed successfully!","home"):e=="canceled"?this.notificationService.showInfo(e,"home"):(console.log(e),this.notificationService.showError(e,"home"))}})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{p as a,v as b,S as c,g as d,b as e};
