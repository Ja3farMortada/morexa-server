import{a as Y,b as Z}from"./chunk-42IGJLG2.js";import{b as it}from"./chunk-UCUUKJUF.js";import{q as et}from"./chunk-V5RHMPQH.js";import"./chunk-OVJQWTCG.js";import{b as K}from"./chunk-H6U4N3TG.js";import"./chunk-LH73PZKM.js";import{$b as q,A as p,Aa as M,Ba as k,Ea as C,Fc as $,Gc as tt,Hb as I,Kb as H,Lb as j,N as f,Nb as B,Rb as G,Sb as z,U as g,X as P,Xb as W,Yb as A,Z as d,Zb as R,aa as D,bc as J,cb as L,da as o,ea as r,eb as E,fa as h,ja as _,ka as l,la as a,lc as O,mc as Q,nc as U,o as w,oc as X,p as y,s,t as u,tb as N,u as V,va as b,xa as F,z as m,za as T}from"./chunk-4RWQR7BF.js";import"./chunk-WWX6BADO.js";var nt=(()=>{class t{constructor(){this.http=s(E),this.notificationService=s(H),this.api=s(j),this.printPageDialogVisible=g(!1),this.printPageSettingsLoading=g(!1),this.printPageSettings=g(null),this.formSubmitLoading=g(!1),this.getPrintPageSettings()}getPrintPageSettings(){this.printPageSettingsLoading.set(!0),this.http.get(`${this.api.host()}/settings/printpage-settings`).subscribe({next:e=>{this.printPageSettings.set(e),this.printPageSettingsLoading.set(!1)},error:e=>{console.log(e),this.notificationService.showError(e.error,"home"),this.printPageSettingsLoading.set(!1)}})}submitPrintPageForm(e){this.formSubmitLoading.set(!0),this.http.put(`${this.api.host()}/settings/printpage-settings`,e).subscribe({next:i=>{this.notificationService.showSuccess(i.message,"home"),this.getPrintPageSettings(),this.formSubmitLoading.set(!1),this.printPageDialogVisible.set(!1)},error:i=>{this.notificationService.showError(i.error,"home"),this.formSubmitLoading.set(!1)}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var st=()=>({width:"50vw"}),at=()=>({"1199px":"75vw","575px":"95vw"});function lt(t,x){if(t&1){let e=_();o(0,"p-button",8),l("onClick",function(){m(e);let n=a();return p(n.openPrintPageDialog())}),r()}}function mt(t,x){if(t&1){let e=_();o(0,"form",9),l("ngSubmit",function(){m(e);let n=a();return p(n.submitForm())}),o(1,"div",10)(2,"div",11)(3,"label",12),b(4,"Brand Title"),r(),h(5,"input",13),r()()()}if(t&2){let e=a();d("formGroup",e.printPageForm)}}function pt(t,x){if(t&1){let e=_();o(0,"p-button",14),l("onClick",function(){m(e);let n=a();return p(n.resetDialog())}),r(),o(1,"p-button",15),l("onClick",function(){m(e);let n=a();return p(n.submitForm())}),r()}if(t&2){let e=a();f(),d("loading",e.formSubmitLoading())}}var ot=(()=>{class t{constructor(){this.settingsService=s(nt),this.fb=s(q),this.printPageSettings=this.settingsService.printPageSettings,this.printPageDialogVisible=this.settingsService.printPageDialogVisible,this.printPageForm=this.fb.group({brand_name:[null],phone_1:[null],phone_2:[null],address:[null],address_2:[null],email:[null],website:[null]}),this.formSubmitLoading=this.settingsService.formSubmitLoading}openPrintPageDialog(){this.printPageForm.patchValue(this.printPageSettings()),this.printPageDialogVisible.set(!0)}resetDialog(){this.printPageDialogVisible.set(!1)}submitForm(){this.printPageForm.valid&&this.settingsService.submitPrintPageForm(this.printPageForm.value)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=u({type:t,selectors:[["print-settings"]],decls:9,vars:8,consts:[[1,"grid","m-1"],[1,"col-6"],["header","Print Page Preview"],["pTemplate","icons"],[1,"text-center","mt-0"],["position","top","header","Edit print page","styleClass","p-fluid",3,"visibleChange","onHide","visible","modal","breakpoints"],["pTemplate","content"],["pTemplate","footer"],["size","small","icon","pi pi-file-edit","severity","warning","label","Edit",3,"onClick"],[3,"ngSubmit","formGroup"],[1,"formgrid","grid"],[1,"field","col-12"],["for","name"],["type","text","pInputText","","formControlName","brand_name","spellcheck","false"],["label","Cancel","icon","pi pi-times","size","small","severity","secondary",3,"onClick"],["label","Save","icon","pi pi-check","severity","success","size","small",3,"onClick","loading"]],template:function(i,n){if(i&1&&(o(0,"div",0)(1,"div",1)(2,"p-panel",2),P(3,lt,1,0,"ng-template",3),o(4,"h1",4),b(5),r()()()(),o(6,"p-dialog",5),k("visibleChange",function(S){return M(n.printPageDialogVisible,S)||(n.printPageDialogVisible=S),S}),l("onHide",function(){return n.resetDialog()}),P(7,mt,6,1,"ng-template",6)(8,pt,2,1,"ng-template",7),r()),i&2){let c;f(5),F(" ",((c=n.printPageSettings())==null?null:c.brand_name)||"no name yet"," "),f(),D(C(6,st)),T("visible",n.printPageDialogVisible),d("modal",!0)("breakpoints",C(7,at))}},dependencies:[I,O,U,$,Y,W,B,G,z,A,R]})}}return t})();var rt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=u({type:t,selectors:[["app-settings-home"]],decls:1,vars:0,template:function(i,n){i&1&&h(0,"print-settings")},dependencies:[ot]})}}return t})();var At=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=V({type:t})}static{this.\u0275inj=y({imports:[L,N.forChild([{path:"",component:rt}]),et,Q,X,tt,K,it,Z,J]})}}return t})();export{At as SettingsModule};
